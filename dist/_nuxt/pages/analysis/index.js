(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{233:function(t,e,n){"use strict";n.r(e);n(21);var o={data:function(){return{title:{name:"",head:""}}},head:function(){return{title:this.title.head}},props:{name:String},fetch:function(){this.$store.commit("GET_PAGE_TITLE",this.$route.name),this.title.name=this.$store.state.pages.name,this.title.head=this.$store.state.pages.head,this.name&&(this.title.name=this.name)}},r=(n(235),n(20)),component=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"header"},[e("h1",{staticClass:"title"},[this._v("\n    "+this._s(this.title.name)+"\n  ")])])}),[],!1,null,"b6ef767a",null);e.default=component.exports;installComponents(component,{Header:n(233).default})},234:function(t,e,n){var content=n(236);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("3f0bd45c",content,!0,{sourceMap:!1})},235:function(t,e,n){"use strict";n(234)},236:function(t,e,n){(e=n(35)(!1)).push([t.i,".header[data-v-b6ef767a]{width:100%;height:50px;max-width:480px;padding:10px;position:fixed;top:0;left:50%;text-align:center;background-color:#2e363d;z-index:2000;transition:all 1s;transform:translateX(-50%)}.is-fixed .header[data-v-b6ef767a]{background-color:#161616}.title[data-v-b6ef767a]{font-size:1.25rem;font-weight:500;color:#fff;line-height:1.4em}",""]),t.exports=e},237:function(t,e,n){"use strict";var o=n(2),r=n(40).findIndex,c=n(99),l=n(15),d=!0,f=l("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){d=!1})),o({target:"Array",proto:!0,forced:d||!f},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},247:function(t,e,n){var content=n(262);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("36dc23f8",content,!0,{sourceMap:!1})},248:function(t,e,n){var content=n(264);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("881ec9d0",content,!0,{sourceMap:!1})},249:function(t,e,n){var content=n(266);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("271eef4e",content,!0,{sourceMap:!1})},261:function(t,e,n){"use strict";n(247)},262:function(t,e,n){(e=n(35)(!1)).push([t.i,"",""]),t.exports=e},263:function(t,e,n){"use strict";n(248)},264:function(t,e,n){(e=n(35)(!1)).push([t.i,'.fieldset[data-v-0ee331a8]{width:100%;margin-bottom:1rem}.fieldset-caption[data-v-0ee331a8]{display:block;font-size:1rem;margin-bottom:5px}.fieldset-tags[data-v-0ee331a8]{width:100%;position:relative}.fieldset-tags .fieldset-tags__input[data-v-0ee331a8]{padding-right:50px}.fieldset-tags__btn[data-v-0ee331a8]{width:38px;height:38px;position:absolute;top:0;right:0}.fieldset-tags__btn[data-v-0ee331a8]:before{font-weight:900;font-family:"Font Awesome 5 solid",sans-serif;content:"\\f055";color:#fff}.fieldset-abreast[data-v-0ee331a8]{display:flex;align-items:center;justify-content:space-between}.fieldset-abreast-item[data-v-0ee331a8]{width:100%;flex-grow:1;flex-basis:0}.fieldset-abreast-item.size-50[data-v-0ee331a8]{width:calc(50% - 5px);flex-grow:0;flex-basis:auto}.time-tips[data-v-0ee331a8]{width:20px;display:block;text-align:center}.total-value[data-v-0ee331a8]{padding-top:10px;padding-bottom:10px;display:flex;justify-content:flex-end;font-size:1.5rem;font-weight:500}.total-value span[data-v-0ee331a8]{display:block;color:#ffdf5e;line-height:1.2em}.analysisList[data-v-0ee331a8]{margin-bottom:2rem}.analysisList>li[data-v-0ee331a8]{margin-top:10px;margin-bottom:10px}.analysisList-item[data-v-0ee331a8]{display:flex;align-items:center;justify-content:space-between}.analysisList-title[data-v-0ee331a8],.analysisList-value[data-v-0ee331a8]{max-width:50%;overflow:hidden;font-size:1.125rem;text-overflow:ellipsis;white-space:nowrap;word-break:keep-all;line-height:1.6em}',""]),t.exports=e},265:function(t,e,n){"use strict";n(249)},266:function(t,e,n){(e=n(35)(!1)).push([t.i,'.analysis-header[data-v-31dbd844]{padding-right:10px;padding-left:10px;margin-bottom:10px;display:flex;align-items:center;justify-content:space-between}.analysis-header .arrow-btn[data-v-31dbd844]{display:flex}.analysis-header .arrow-btn>span[data-v-31dbd844]{display:none}.analysis-header .arrow-btn[data-v-31dbd844]:before{font-weight:900;font-family:"Font Awesome 5 solid",sans-serif;display:block;font-size:1rem;color:#fff}.analysis-header .arrow-btn.btn-prevmonth[data-v-31dbd844]:before{content:"\\f053"}.analysis-header .arrow-btn.btn-nextmonth[data-v-31dbd844]:before{content:"\\f054"}.analysis-title[data-v-31dbd844]{font-size:1.125rem}.enumeration-list[data-v-31dbd844]{width:100%;margin-bottom:1rem;display:flex;overflow-x:auto;overflow-y:hidden;word-break:break-all;white-space:nowrap}.enumeration-btn[data-v-31dbd844]{padding:12px 15px;line-height:1em;position:relative}.enumeration-btn[data-v-31dbd844]:after{content:"";width:100%;height:3px;display:block;position:absolute;bottom:0;left:0;background-color:transparent}.enumeration-btn.current[data-v-31dbd844]{color:#ffdf5e}.enumeration-btn.current[data-v-31dbd844]:after{background-color:#ffdf5e}',""]),t.exports=e},289:function(t,e,n){"use strict";n.r(e);n(155),n(39),n(55);var o=n(56),r=n(31),c=n.n(r),header=n(233),l=(n(237),n(37),n(26),n(154),n(102),n(21),n(38),{data:function(){var t=this;return{series:[],options:{colors:["#50aaf8","#32c8a4","#f76c83","#f19e5e","#94c962","#ac93e8"],labels:[],legend:{labels:{colors:"#fff"},formatter:function(e){var n=parseInt(e.substr(7))-1;return t.labelsData[n]}},tooltip:{y:{title:{formatter:function(e){var n=parseInt(e.substr(7))-1;return"".concat(t.labelsData[n],":")}}}},stroke:{width:1}}}},components:{"client-only":c.a},props:{seriesData:Array,labelsData:Array},watch:{seriesData:{immediate:!0,handler:function(t){this.series=t}}}}),d=(n(261),n(20)),f={data:function(){return{categories:"",categoriesData:[]}},components:{"chartpie-component":Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("client-only",[n("div",{staticClass:"chartItem"},[t.seriesData.length>0?n("div",[n("Apexchart",{attrs:{type:"pie",width:"100%",height:"300px",options:t.options,series:t.series}})],1):t._e(),t._v(" "),t.seriesData.length<=0?n("p",{staticClass:"chartItem-none-tip"},[t._v("\n      目前尚無任何資料\n    ")]):t._e()])])}),[],!1,null,"62c7c3ae",null).exports},props:{accountList:Array},created:function(){this.categoriesData=n(156),this.categories=this.categoriesData.expense[0].id},methods:{getTotalValue:function(t){var e=t.reduce((function(t,e){return t+e.price}),0);return this.TO_CURRENCY(e)}},computed:{categorieList:function(){var t=this.categoriesData.expense.map((function(t){return{id:t.id,name:t.name}}));return t.push({id:"income",name:"收入"}),t},accountFormatList:function(){var t=this,e=[];return this.accountList.filter((function(e){return"income"===t.categories?!1===e.isExpense:e.categories===t.categories})).forEach((function(n){var o="income"===t.categories?n.categories:n.subcategories;if(!0===e.some((function(t){return t.id===o}))){var r=e.findIndex((function(t){return t.id===o}));e[r].collection.push(t.DEEP_CLONE(n))}else{var c={id:o,collection:[t.DEEP_CLONE(n)]};e.push(c)}})),e},seriesData:function(){return this.accountFormatList.map((function(t){return t.collection.reduce((function(t,e){return t+e.price}),0)}))||[]},labelsData:function(){var t=this;return this.accountFormatList.map((function(e){return t.GET_CATEGORIES_NAME(e.id)}))||[]},totalValue:function(){return this.seriesData.reduce((function(t,e){return t+e}),0)}}},h=(n(263),Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"align"},[n("div",{staticClass:"col col-100"},[n("div",{staticClass:"fieldset"},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.categories,expression:"categories"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.categories=e.target.multiple?n:n[0]}}},t._l(t.categorieList,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v("\n              "+t._s(e.name)+"\n            ")])})),0)])])])]),t._v(" "),n("chartpie-component",{attrs:{"series-data":t.seriesData,"labels-data":t.labelsData}}),t._v(" "),t.seriesData.length>0?n("div",{staticClass:"total-value"},[n("span",[t._v(" TWD "+t._s(t.TO_CURRENCY(t.totalValue)))])]):t._e(),t._v(" "),n("ul",{staticClass:"analysisList"},t._l(t.accountFormatList,(function(e){return n("li",{key:e.id},[n("div",{staticClass:"analysisList-item"},[n("div",{staticClass:"analysisList-title"},[t._v("\n          "+t._s(t.GET_CATEGORIES_NAME(e.id))+"\n        ")]),t._v(" "),n("div",{staticClass:"analysisList-value"},[t._v("\n          "+t._s(t.getTotalValue(e.collection))+"\n        ")])])])})),0)],1)}),[],!1,null,"0ee331a8",null).exports),v={data:function(){return{activeDate:{year:0,month:0},enumeration:"categories",enumerationList:[{id:"categories",name:"類別"},{id:"hashtag",name:"標籤"}]}},components:{"client-only":c.a,"header-component":header.default,analysisCategories:h},created:function(){this.activeDate.year=this.$dayjs().utcOffset(8).year(),this.activeDate.month=this.$dayjs().utcOffset(8).month()+1},methods:{changeMonth:function(t){var e=this.activeDate.month,n=!0===t?e+1:e-1;n<=0&&(n=12,this.activeDate.year=this.activeDate.year-1),n>12&&(n=1,this.activeDate.year=this.activeDate.year+1),this.activeDate.month=n}},computed:{accountList:function(){var t=this,e=Object(o.a)(this.$store.state.accounts);return e.filter((function(e){return Object.keys(t.activeDate).every((function(n){return t.activeDate[n]===e.time[n]}))}))}}},m=(n(265),Object(d.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header-component"),t._v(" "),n("div",{staticClass:"wrap"},[n("div",{staticClass:"analysis-header"},[n("button",{staticClass:"arrow-btn btn-prevmonth",attrs:{title:"Previous"},on:{click:function(e){return e.preventDefault(),t.changeMonth(!1)}}},[n("span",[t._v("Previous")])]),t._v(" "),n("div",{staticClass:"analysis-title"},[t._v("\n        "+t._s(t.activeDate.year)+"年"+t._s(t.activeDate.month)+"月\n      ")]),t._v(" "),n("button",{staticClass:"arrow-btn btn-nextmonth",attrs:{title:"Next"},on:{click:function(e){return e.preventDefault(),t.changeMonth(!0)}}},[n("span",[t._v("Next")])])]),t._v(" "),n("ul",{staticClass:"enumeration-list"},t._l(t.enumerationList,(function(e){return n("li",{key:e.id},[n("button",{staticClass:"enumeration-btn",class:{current:t.enumeration===e.id},attrs:{title:e.name},on:{click:function(n){n.stopPropagation(),t.enumeration=e.id}}},[t._v("\n          "+t._s(e.name)+"\n        ")])])})),0),t._v(" "),n("client-only",["categories"===t.enumeration?n("analysisCategories",{attrs:{"account-list":t.accountList}}):t._e()],1)],1)],1)}),[],!1,null,"31dbd844",null));e.default=m.exports}}]);