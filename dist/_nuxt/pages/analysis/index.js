(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{238:function(t,e,n){var content=n(243);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("748acf80",content,!0,{sourceMap:!1})},242:function(t,e,n){"use strict";n(238)},243:function(t,e,n){(e=n(35)(!1)).push([t.i,'.accordion-title[data-v-b601a084]{width:100%;padding-top:10px;display:flex;align-items:center;justify-content:space-between}.accordion-title span[data-v-b601a084]{width:calc(100% - 30px);display:block;overflow:hidden;font-size:1.25rem;text-overflow:ellipsis;white-space:nowrap;line-height:1.4em;word-break:keep-all}.accordion-title[data-v-b601a084]:after{font-weight:900;font-family:"Font Awesome 5 solid",sans-serif;content:"\\f068";width:30px;height:30px;line-height:30px;display:block;text-align:center}.accordion-title.is-close[data-v-b601a084]:after{content:"\\f067"}',""]),t.exports=e},251:function(t,e,n){"use strict";var o={data:function(){return{control:!0}},props:{title:String},methods:{accordionStartHandler:function(t){t.style.height=t.scrollHeight+"px"},accordionEndHandler:function(t){t.style.height=""}}},r=(n(242),n(20)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"accordion"},[n("div",{staticClass:"accordion-title",class:{"is-close":!1===t.control},on:{click:function(e){e.stopPropagation(),t.control=!t.control}}},[n("span",[t._v(t._s(t.title))])]),t._v(" "),n("transition",{attrs:{name:"accordion"},on:{enter:t.accordionStartHandler,"after-enter":t.accordionEndHandler,"before-leave":t.accordionStartHandler,"after-leave":t.accordionEndHandler}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.control,expression:"control"}]},[t._t("default")],2)])],1)}),[],!1,null,"b601a084",null);e.a=component.exports},252:function(t,e,n){var content=n(266);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("abec9fd4",content,!0,{sourceMap:!1})},253:function(t,e,n){var content=n(268);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("50ffcd02",content,!0,{sourceMap:!1})},256:function(t,e,n){var content=n(274);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("293cdd88",content,!0,{sourceMap:!1})},257:function(t,e,n){var content=n(276);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("4f797cc7",content,!0,{sourceMap:!1})},265:function(t,e,n){"use strict";n(252)},266:function(t,e,n){(e=n(35)(!1)).push([t.i,"",""]),t.exports=e},267:function(t,e,n){"use strict";n(253)},268:function(t,e,n){(e=n(35)(!1)).push([t.i,'.fieldset[data-v-da2e12da]{width:100%;margin-bottom:1rem}.fieldset-caption[data-v-da2e12da]{display:block;font-size:1rem;margin-bottom:5px}.fieldset-tags[data-v-da2e12da]{width:100%;position:relative}.fieldset-tags .fieldset-tags__input[data-v-da2e12da]{padding-right:50px}.fieldset-tags__btn[data-v-da2e12da]{width:38px;height:38px;position:absolute;top:0;right:0}.fieldset-tags__btn[data-v-da2e12da]:before{font-weight:900;font-family:"Font Awesome 5 solid",sans-serif;content:"\\f055";color:#fff}.fieldset-abreast[data-v-da2e12da]{display:flex;align-items:center;justify-content:space-between}.fieldset-abreast-item[data-v-da2e12da]{width:100%;flex-grow:1;flex-basis:0}.fieldset-abreast-item.size-50[data-v-da2e12da]{width:calc(50% - 5px);flex-grow:0;flex-basis:auto}.time-tips[data-v-da2e12da]{width:20px;display:block;text-align:center}.total-value[data-v-da2e12da]{padding-top:10px;padding-bottom:10px;display:flex;justify-content:flex-end;font-size:1.5rem;font-weight:500}.total-value span[data-v-da2e12da]{display:block;color:#ffdf5e;line-height:1.2em}.analysisList[data-v-da2e12da]{padding-right:5px;padding-left:5px;margin-bottom:2rem}.analysisList>li[data-v-da2e12da]{margin-top:10px;margin-bottom:10px}.analysisList-item[data-v-da2e12da]{display:flex;align-items:center;justify-content:space-between}.analysisList-title[data-v-da2e12da],.analysisList-value[data-v-da2e12da]{max-width:50%;overflow:hidden;font-size:1.125rem;text-overflow:ellipsis;white-space:nowrap;word-break:keep-all;line-height:1.6em}',""]),t.exports=e},273:function(t,e,n){"use strict";n(256)},274:function(t,e,n){(e=n(35)(!1)).push([t.i,".hashtagList-header[data-v-3c1c8ce2]{padding-top:5px;padding-bottom:5px;display:flex;align-items:center;justify-content:space-between}.hashtagList-value[data-v-3c1c8ce2]{color:#94c962}.hashtagList-value.color-red[data-v-3c1c8ce2]{color:#f76c83}",""]),t.exports=e},275:function(t,e,n){"use strict";n(257)},276:function(t,e,n){(e=n(35)(!1)).push([t.i,'.analysis-header[data-v-4e6e5872]{padding-right:10px;padding-left:10px;margin-bottom:10px;display:flex;align-items:center;justify-content:space-between}.analysis-header .arrow-btn[data-v-4e6e5872]{display:flex}.analysis-header .arrow-btn>span[data-v-4e6e5872]{display:none}.analysis-header .arrow-btn[data-v-4e6e5872]:before{font-weight:900;font-family:"Font Awesome 5 solid",sans-serif;display:block;font-size:1rem;color:#fff}.analysis-header .arrow-btn.btn-prevmonth[data-v-4e6e5872]:before{content:"\\f053"}.analysis-header .arrow-btn.btn-nextmonth[data-v-4e6e5872]:before{content:"\\f054"}.analysis-title[data-v-4e6e5872]{font-size:1.125rem}.enumeration-list[data-v-4e6e5872]{width:100%;margin-bottom:1rem;display:flex;overflow-x:auto;overflow-y:hidden;word-break:break-all;white-space:nowrap}.enumeration-btn[data-v-4e6e5872]{padding:12px 20px;line-height:1em;position:relative}.enumeration-btn[data-v-4e6e5872]:after{content:"";width:100%;height:3px;display:block;position:absolute;bottom:0;left:0;background-color:transparent}.enumeration-btn.current[data-v-4e6e5872]{color:#ffdf5e}.enumeration-btn.current[data-v-4e6e5872]:after{background-color:#ffdf5e}',""]),t.exports=e},293:function(t,e,n){"use strict";n.r(e);n(155),n(39),n(55);var o=n(56),r=n(31),c=n.n(r),header=n(233),l=(n(235),n(37),n(26),n(154),n(21),n(38),{data:function(){var t=this;return{series:[],options:{colors:["#50aaf8","#32c8a4","#f76c83","#ffdf5e","#94c962","#ac93e8"],labels:[],legend:{labels:{colors:"#fff"},formatter:function(e){var n=parseInt(e.substr(7))-1;return t.labelsData[n]}},tooltip:{y:{title:{formatter:function(e){var n=parseInt(e.substr(7))-1;return"".concat(t.labelsData[n],":")}}}},stroke:{width:1}}}},components:{"client-only":c.a},props:{seriesData:Array,labelsData:Array},watch:{seriesData:{immediate:!0,handler:function(t){this.series=t}}}}),d=(n(265),n(20)),f={data:function(){return{categories:"",categoriesData:[]}},components:{"chartpie-component":Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("client-only",[n("div",{staticClass:"chartItem"},[t.seriesData.length>0?n("div",[n("Apexchart",{attrs:{type:"pie",width:"100%",height:"300px",options:t.options,series:t.series}})],1):t._e(),t._v(" "),t.seriesData.length<=0?n("p",{staticClass:"none-tips"},[t._v("\n      目前尚無任何資料\n    ")]):t._e()])])}),[],!1,null,"e06cefe2",null).exports},props:{accountList:Array},created:function(){this.categoriesData=n(156),this.categories=this.categoriesData.expense[0].id},methods:{getTotalValue:function(t){var e=t.reduce((function(t,e){return t+e.price}),0);return this.TO_CURRENCY(e)}},computed:{categorieList:function(){var t=this.categoriesData.expense.map((function(t){return{id:t.id,name:t.name}}));return t.push({id:"income",name:"收入"}),t},accountFormatList:function(){var t=this,e=[];return this.accountList.filter((function(e){return"income"===t.categories?!1===e.isExpense:e.categories===t.categories})).forEach((function(n){var o="income"===t.categories?n.categories:n.subcategories,r=e.findIndex((function(t){return t.id===o}));if(r<0){var c={id:o,collection:[t.DEEP_CLONE(n)]};e.push(c)}else e[r].collection.push(t.DEEP_CLONE(n))})),e},seriesData:function(){return this.accountFormatList.map((function(t){return t.collection.reduce((function(t,e){return t+e.price}),0)}))||[]},labelsData:function(){var t=this;return this.accountFormatList.map((function(e){return t.GET_CATEGORIES_NAME(e.id)}))||[]},totalValue:function(){return this.seriesData.reduce((function(t,e){return t+e}),0)}}},h=(n(267),Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"align"},[n("div",{staticClass:"col col-100"},[n("div",{staticClass:"fieldset"},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.categories,expression:"categories"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.categories=e.target.multiple?n:n[0]}}},t._l(t.categorieList,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v("\n              "+t._s(e.name)+"\n            ")])})),0)])])])]),t._v(" "),n("chartpie-component",{attrs:{"series-data":t.seriesData,"labels-data":t.labelsData}}),t._v(" "),t.seriesData.length>0?n("div",{staticClass:"total-value"},[n("span",[t._v(" TWD $"+t._s(t.TO_CURRENCY(t.totalValue)))])]):t._e(),t._v(" "),n("ul",{staticClass:"analysisList"},t._l(t.accountFormatList,(function(e){return n("li",{key:e.id},[n("div",{staticClass:"analysisList-item"},[n("div",{staticClass:"analysisList-title"},[t._v("\n          "+t._s(t.GET_CATEGORIES_NAME(e.id))+"\n        ")]),t._v(" "),n("div",{staticClass:"analysisList-value"},[t._v("\n          $"+t._s(t.getTotalValue(e.collection))+"\n        ")])])])})),0)],1)}),[],!1,null,"da2e12da",null).exports),v=n(251),m=n(248),y={data:function(){return{currentHashtag:""}},components:{accordionClass:v.a,"accountList-component":m.a},props:{accountList:Array},methods:{getTotalValue:function(t){return t.reduce((function(t,e){return!0===e.isExpense?t-e.price:t+e.price}),0)},setValueFormat:function(t){var e=this.TO_CURRENCY(Math.abs(t));return t<0?"-$".concat(e):"$".concat(e)}},computed:{accountFormatList:function(){var t=this,e=[];return this.accountList.filter((function(t){return t.tags.length>0})).forEach((function(n){n.tags.forEach((function(o){var r=e.findIndex((function(t){return t.id===o}));if(r<0){var c={id:o,collection:[t.DEEP_CLONE(n)]};e.push(c)}else e[r].collection.push(t.DEEP_CLONE(n))}))})),e}}},_=(n(273),Object(d.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{staticClass:"hashtagList"},t._l(t.accountFormatList,(function(e){return n("li",{key:e.id},[n("div",{staticClass:"hashtagList-item"},[n("accordionClass",{attrs:{title:"#"+e.id}},[n("div",{staticClass:"hashtagList-header"},[n("div",{staticClass:"hashtagList-value",class:{"color-red":t.getTotalValue(e.collection)<0}},[t._v("\n              "+t._s(t.setValueFormat(t.getTotalValue(e.collection)))+"\n            ")]),t._v(" "),n("div",{staticClass:"hashtagList-number"},[t._v("\n              共"+t._s(e.collection.length)+"筆\n            ")])]),t._v(" "),n("accountList-component",{attrs:{"account-list":e.collection,"show-time":!0}})],1)],1)])})),0),t._v(" "),t.accountList.length<=0?n("p",{staticClass:"none-tips"},[t._v("\n    目前尚無任何資料\n  ")]):t._e()])}),[],!1,null,"3c1c8ce2",null).exports),x={data:function(){return{activeDate:{year:0,month:0},enumeration:"categories",enumerationList:[{id:"categories",name:"類別"},{id:"hashtag",name:"標籤"}]}},components:{"client-only":c.a,"header-component":header.default,analysisCategories:h,analysisHashtag:_},created:function(){this.activeDate.year=this.$dayjs().utcOffset(8).year(),this.activeDate.month=this.$dayjs().utcOffset(8).month()+1},methods:{changeMonth:function(t){var e=this.activeDate.month,n=!0===t?e+1:e-1;n<=0&&(n=12,this.activeDate.year=this.activeDate.year-1),n>12&&(n=1,this.activeDate.year=this.activeDate.year+1),this.activeDate.month=n}},computed:{accountList:function(){var t=this,e=Object(o.a)(this.$store.state.accounts);return e.filter((function(e){return Object.keys(t.activeDate).every((function(n){return t.activeDate[n]===e.time[n]}))}))}}},w=(n(275),Object(d.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header-component"),t._v(" "),n("div",{staticClass:"wrap"},[n("div",{staticClass:"analysis-header"},[n("button",{staticClass:"arrow-btn btn-prevmonth",attrs:{title:"Previous"},on:{click:function(e){return e.preventDefault(),t.changeMonth(!1)}}},[n("span",[t._v("Previous")])]),t._v(" "),n("div",{staticClass:"analysis-title"},[t._v("\n        "+t._s(t.activeDate.year)+"年"+t._s(t.TO_TIME_FORMAT(t.activeDate.month))+"月\n      ")]),t._v(" "),n("button",{staticClass:"arrow-btn btn-nextmonth",attrs:{title:"Next"},on:{click:function(e){return e.preventDefault(),t.changeMonth(!0)}}},[n("span",[t._v("Next")])])]),t._v(" "),n("ul",{staticClass:"enumeration-list"},t._l(t.enumerationList,(function(e){return n("li",{key:e.id},[n("button",{staticClass:"enumeration-btn",class:{current:t.enumeration===e.id},attrs:{title:e.name},on:{click:function(n){n.stopPropagation(),t.enumeration=e.id}}},[t._v("\n          "+t._s(e.name)+"\n        ")])])})),0),t._v(" "),n("client-only",["categories"===t.enumeration?n("analysisCategories",{attrs:{"account-list":t.accountList}}):t._e(),t._v(" "),"hashtag"===t.enumeration?n("analysisHashtag",{attrs:{"account-list":t.accountList}}):t._e()],1)],1)],1)}),[],!1,null,"4e6e5872",null));e.default=w.exports}}]);