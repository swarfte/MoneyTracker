(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{250:function(t,e,o){var content=o(253);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(20).default)("d9910938",content,!0,{sourceMap:!1})},251:function(t,e,o){"use strict";o.r(e);o(14);var n={data:function(){return{title:{name:"",head:""}}},head:function(){return{title:this.title.head}},props:{name:String},fetch:function(){this.$store.commit("route/GET_PAGE_TITLE",this.$route.name),this.title.name=this.$store.state.route.pages.name,this.title.head=this.$store.state.route.pages.head,this.name&&(this.title.name=this.name)},methods:{openSearchBarHandler:function(){this.$store.commit("SET_SEARCHBAR_CONTROL",!0)}}},c=(o(252),o(7)),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",{staticClass:"header"},[o("h1",{staticClass:"title"},[t._v("\n    "+t._s(t.title.name)+"\n  ")]),t._v(" "),o("button",{staticClass:"header__search-open-btn",on:{click:function(e){return e.stopPropagation(),t.openSearchBarHandler(e)}}})])}),[],!1,null,"70a5b7e9",null);e.default=component.exports;installComponents(component,{Header:o(251).default})},252:function(t,e,o){"use strict";o(250)},253:function(t,e,o){(e=o(19)(!1)).push([t.i,'.header[data-v-70a5b7e9]{width:100%;height:50px;max-width:480px;padding:10px 60px;position:fixed;top:0;left:50%;text-align:center;background-color:#2e363d;z-index:2000;transition:all 1s;transform:translateX(-50%)}.is-fixed .header[data-v-70a5b7e9]{background-color:#161616}.title[data-v-70a5b7e9]{overflow:hidden;font-size:1.25rem;font-weight:500;text-overflow:ellipsis;white-space:nowrap;color:#fff;line-height:1.4em;word-break:keep-all}.header__search-open-btn[data-v-70a5b7e9]{width:50px;height:50px;display:block;position:absolute;top:0;right:0;text-align:center}.header__search-open-btn[data-v-70a5b7e9]:before{font-weight:900;font-family:"Font Awesome 5 solid",sans-serif;content:"\\f002";line-height:50px;font-size:1.25rem}',""]),t.exports=e},254:function(t,e,o){var content=o(257);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(20).default)("748acf80",content,!0,{sourceMap:!1})},256:function(t,e,o){"use strict";o(254)},257:function(t,e,o){(e=o(19)(!1)).push([t.i,'.accordion-title[data-v-b601a084]{width:100%;padding-top:10px;display:flex;align-items:center;justify-content:space-between}.accordion-title span[data-v-b601a084]{width:calc(100% - 30px);display:block;overflow:hidden;font-size:1.25rem;text-overflow:ellipsis;white-space:nowrap;line-height:1.4em;word-break:keep-all}.accordion-title[data-v-b601a084]:after{font-weight:900;font-family:"Font Awesome 5 solid",sans-serif;content:"\\f068";width:30px;height:30px;line-height:30px;display:block;text-align:center}.accordion-title.is-close[data-v-b601a084]:after{content:"\\f067"}',""]),t.exports=e},260:function(t,e,o){"use strict";var n={data:function(){return{control:!0}},props:{title:String},methods:{accordionStartHandler:function(t){t.style.height=t.scrollHeight+"px"},accordionEndHandler:function(t){t.style.height=""}}},c=(o(256),o(7)),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"accordion"},[o("div",{staticClass:"accordion-title",class:{"is-close":!1===t.control},on:{click:function(e){e.stopPropagation(),t.control=!t.control}}},[o("span",[t._v(t._s(t.title))])]),t._v(" "),o("transition",{attrs:{name:"accordion"},on:{enter:t.accordionStartHandler,"after-enter":t.accordionEndHandler,"before-leave":t.accordionStartHandler,"after-leave":t.accordionEndHandler}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.control,expression:"control"}]},[t._t("default")],2)])],1)}),[],!1,null,"b601a084",null);e.a=component.exports},266:function(t,e,o){var content=o(282);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(20).default)("22a414a1",content,!0,{sourceMap:!1})},267:function(t,e,o){var content=o(284);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(20).default)("2ee16a0c",content,!0,{sourceMap:!1})},268:function(t,e,o){var content=o(286);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(20).default)("7eb8431e",content,!0,{sourceMap:!1})},281:function(t,e,o){"use strict";o(266)},282:function(t,e,o){(e=o(19)(!1)).push([t.i,".chartItem[data-v-578ed16c]{width:100%;overflow-x:auto;overflow-y:hidden}",""]),t.exports=e},283:function(t,e,o){"use strict";o(267)},284:function(t,e,o){(e=o(19)(!1)).push([t.i,".chartItem .apexcharts-tooltip{color:#161616;background-color:#ffdf5e}.chartItem .apexcharts-tooltip-title{color:#fff;background-color:#161616;line-height:1.4em}.chartItem .apexcharts-tooltip-y-group{line-height:1.4em}.chartItem .apexcharts-tooltip-y-group>span{color:#161616}",""]),t.exports=e},285:function(t,e,o){"use strict";o(268)},286:function(t,e,o){(e=o(19)(!1)).push([t.i,".overview-title[data-v-797db16c]{display:flex;align-items:center;justify-content:center;border-radius:5px;margin-bottom:10px}.overview-title span[data-v-797db16c]{padding-right:10px;display:block;font-size:1.5rem;font-weight:500}.total-value[data-v-797db16c]{line-height:1.4em;font-size:1.75rem;font-weight:500;color:#94c962}.total-value.color-red[data-v-797db16c]{color:#f76c83}.overview-according[data-v-797db16c]{width:100%;display:flex;align-items:baseline;justify-content:flex-end}.accountFormatList[data-v-797db16c]{margin-top:1rem;margin-bottom:1rem}",""]),t.exports=e},299:function(t,e,o){"use strict";o.r(e);o(32),o(162),o(30),o(34),o(163),o(167),o(31);var n=o(18),c=o(42),r=o.n(c),header=o(251),l={data:function(){var t=this;return{series:[],options:{chart:{type:"bar",toolbar:{show:!1},zoom:{enabled:!1}},colors:["#f76c83","#94c962"],dataLabels:{enabled:!1},xaxis:{categories:[],labels:{style:{colors:"#fff"}}},yaxis:{labels:{style:{colors:"#fff"},formatter:function(e){return t.TO_CUSTOM_NUMBER_FORMAT(e)}}},fill:{opacity:1},legend:{labels:{colors:"#fff"},horizontalAlign:"left"},tooltip:{enabled:!0,theme:!1}}}},components:{"client-only":r.a},props:{seriesData:Array,xaxisList:Array},computed:{chartWidth:function(){var t=Math.ceil(this.xaxisList.length/8);return"".concat(t<1?100:100*t,"%")}},watch:{seriesData:{immediate:!0,handler:function(t){this.series=t}},xaxisList:{immediate:!0,handler:function(t){this.options.xaxis.categories=t}}}},d=(o(281),o(283),o(7)),h=Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("client-only",[o("div",{staticClass:"chartItem"},[t.xaxisList.length>0?o("Apexchart",{ref:"chart",attrs:{type:"bar",width:t.chartWidth,height:"300px",options:t.options,series:t.series}}):t._e(),t._v(" "),t.xaxisList.length<=0?o("p",{staticClass:"none-tips"},[t._v("\n      目前尚無任何資料\n    ")]):t._e()],1)])}),[],!1,null,"578ed16c",null).exports,f=o(260),m=o(103),v={data:function(){return{according:"date"}},components:{"client-only":r.a,"header-component":header.default,"chartbar-component":h,accordionClass:f.a,"accountList-component":m.a},methods:{setDateTitle:function(t){var time=t.time;return"month"===this.according?"".concat(time.year,"年").concat(this.TO_TIME_FORMAT(time.month),"月"):"".concat(time.year,"年").concat(this.TO_TIME_FORMAT(time.month),"月").concat(this.TO_TIME_FORMAT(time.date),"日")}},computed:{totalValue:function(){return Object(n.a)(this.$store.state.accounts).reduce((function(t,e){return!0===e.isExpense?t-e.price:t+e.price}),0)},overviewNumber:function(){var t=this.totalValue%1!=0;return this.totalValue>=1e6?"".concat((this.totalValue/1e6).toFixed(2),"M"):!0===t?this.totalValue.toFixed(1):this.TO_CURRENCY(this.totalValue)},accountFormatList:function(){var t=this,e=[];return Object(n.a)(this.$store.state.accounts).forEach((function(o){var time=o.time,n="month"===t.according?"".concat(time.year,"-").concat(time.month):"".concat(time.year,"-").concat(time.month,"-").concat(time.date),c=e.findIndex((function(t){return t.id===n}));if(c<0){var r={id:n,time:{year:o.time.year,month:o.time.month,date:o.time.date},collection:[t.DEEP_CLONE(o)]};e.push(r)}else e[c].collection.push(t.DEEP_CLONE(o))})),e.sort((function(a,b){return t.$dayjs("".concat(a.time.year,"-").concat(a.time.month,"-").concat(a.time.date)).unix()-t.$dayjs("".concat(b.time.year,"-").concat(b.time.month,"-").concat(b.time.date)).unix()})),e},chartSeries:function(){var t=[{name:"支出",data:[]},{name:"收入",data:[]}];return this.accountFormatList.forEach((function(e){var o=e.collection.reduce((function(t,e){return t+(!0===e.isExpense?e.price:0)}),0),n=e.collection.reduce((function(t,e){return t+(!1===e.isExpense?e.price:0)}),0);t[0].data.push(o),t[1].data.push(n)})),t},chartXaxisList:function(){var t=this;return"month"===this.according?this.accountFormatList.map((function(e){return"".concat(t.TO_TIME_FORMAT(e.time.month),"月")})):this.accountFormatList.map((function(e){return"".concat(t.TO_TIME_FORMAT(e.time.month),"/").concat(t.TO_TIME_FORMAT(e.time.date))}))}}},x=(o(285),Object(d.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("header-component"),t._v(" "),o("div",{staticClass:"wrap"},[o("client-only",[o("div",{staticClass:"overview-title"},[o("span",[t._v("總額：")]),t._v(" "),o("div",{staticClass:"total-value",class:{"color-red":t.totalValue<0}},[t._v("\n          TWD "+t._s(t.overviewNumber)+"\n        ")])]),t._v(" "),t.chartXaxisList.length>0?o("div",{staticClass:"overview-according"},[o("div",{staticClass:"radio-button"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.according,expression:"according"}],attrs:{id:"according-month",type:"radio"},domProps:{value:"month",checked:t._q(t.according,"month")},on:{change:function(e){t.according="month"}}}),t._v(" "),o("label",{attrs:{for:"according-month"}},[t._v("月份")])]),t._v(" "),o("div",{staticClass:"radio-button"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.according,expression:"according"}],attrs:{id:"according-date",type:"radio"},domProps:{value:"date",checked:t._q(t.according,"date")},on:{change:function(e){t.according="date"}}}),t._v(" "),o("label",{attrs:{for:"according-date"}},[t._v("日期")])])]):t._e(),t._v(" "),o("chartbar-component",{attrs:{"series-data":t.chartSeries,"xaxis-list":t.chartXaxisList}}),t._v(" "),o("ul",{staticClass:"accountFormatList"},t._l(t.accountFormatList,(function(e){return o("li",{key:e.id},[o("accordionClass",{attrs:{title:t.setDateTitle(e)}},[o("accountList-component",{attrs:{"account-list":e.collection}})],1)],1)})),0)],1)],1)],1)}),[],!1,null,"797db16c",null));e.default=x.exports}}]);