(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{228:function(t,e,n){var content=n(231);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("315f4dd4",content,!0,{sourceMap:!1})},229:function(t,e,n){"use strict";n.r(e);n(21);var o={data:function(){return{title:{name:"",head:""}}},head:function(){return{title:this.title.head}},props:{name:String},fetch:function(){this.$store.commit("GET_PAGE_TITLE",this.$route.name),this.title.name=this.$store.state.pages.name,this.title.head=this.$store.state.pages.head,this.name&&(this.title.name=this.name)}},r=(n(230),n(20)),component=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"header"},[e("h1",{staticClass:"title"},[this._v("\n    "+this._s(this.title.name)+"\n  ")])])}),[],!1,null,"2b428121",null);e.default=component.exports;installComponents(component,{Header:n(229).default})},230:function(t,e,n){"use strict";n(228)},231:function(t,e,n){(e=n(34)(!1)).push([t.i,".header[data-v-2b428121]{padding:10px;text-align:center}.title[data-v-2b428121]{font-size:1.25rem;color:#fff;line-height:1.4em}",""]),t.exports=e},232:function(t,e,n){"use strict";var o=n(2),r=n(99),c=n(38),d=n(9),l=n(22),f=n(100),h=n(69),v=n(56),m=n(15),_=v("splice"),x=m("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,C=Math.min;o({target:"Array",proto:!0,forced:!_||!x},{splice:function(t,e){var n,o,v,m,_,x,D=l(this),w=d(D.length),E=r(t,w),T=arguments.length;if(0===T?n=o=0:1===T?(n=0,o=w-E):(n=T-2,o=C(y(c(e),0),w-E)),w+n-o>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(v=f(D,o),m=0;m<o;m++)(_=E+m)in D&&h(v,m,D[_]);if(v.length=o,n<o){for(m=E;m<w-o;m++)x=m+n,(_=m+o)in D?D[x]=D[_]:delete D[x];for(m=w;m>w-o+n;m--)delete D[m-1]}else if(n>o)for(m=w-o;m>E;m--)x=m+n-1,(_=m+o-1)in D?D[x]=D[_]:delete D[x];for(m=0;m<n;m++)D[m+E]=arguments[m+2];return D.length=w-o+n,v}})},233:function(t,e,n){var content=n(237);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("28fa494a",content,!0,{sourceMap:!1})},234:function(t,e,n){var content=n(239);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("19d69126",content,!0,{sourceMap:!1})},235:function(t,e,n){"use strict";var o=n(2),r=n(40).findIndex,c=n(101),d=n(15),l=!0,f=d("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){l=!1})),o({target:"Array",proto:!0,forced:l||!f},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},236:function(t,e,n){"use strict";n(233)},237:function(t,e,n){(e=n(34)(!1)).push([t.i,".overlay[data-v-02f64cdc]{position:fixed;overflow:hidden}.overlay[data-v-02f64cdc],.overlay-block[data-v-02f64cdc]{width:100%;height:100%;top:0;left:0}.overlay-block[data-v-02f64cdc]{position:absolute;background-color:rgba(0,0,0,.7)}.lightbox[data-v-02f64cdc]{width:calc(100% - 20px);max-width:480px;max-height:calc(100% - 20px);padding:10px;position:absolute;top:50%;left:50%;overflow-x:hidden;overflow-y:auto;transform:translateX(-50%) translateY(-50%)}",""]),t.exports=e},238:function(t,e,n){"use strict";n(234)},239:function(t,e,n){(e=n(34)(!1)).push([t.i,'.calendar[data-v-76f73dd2]{margin-bottom:1rem;overflow:hidden;background-color:#2e363d}.calendar__content[data-v-76f73dd2],.calendar__heading[data-v-76f73dd2]{width:100%;padding-right:5px;padding-left:5px;display:flex;flex-wrap:wrap}.calendar__content>li[data-v-76f73dd2],.calendar__heading>li[data-v-76f73dd2]{width:14.2857142%;padding-right:5px;padding-left:5px}.calendar__content[data-v-76f73dd2]{position:relative}.calendar__item[data-v-76f73dd2]{width:100%;height:100%;padding-top:7px;padding-bottom:7px;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff;border-radius:3px;transition:all .3s}.calendar__item.is-today[data-v-76f73dd2]{color:#ffdf5e}.calendar__item.current[data-v-76f73dd2]{color:#2e363d;background-color:#ffdf5e}.calendar__item.disabled[data-v-76f73dd2]{cursor:default}.calendar__heading .calendar__item[data-v-76f73dd2]{font-size:1rem;font-weight:500}.calendar__content .calendar__item[data-v-76f73dd2]{padding-top:5px;padding-bottom:5px;font-size:1.125rem}.calendar__header[data-v-76f73dd2]{padding:10px;display:flex;align-items:center;justify-content:space-between;background-color:#ffdf5e;border-radius:5px}.calendar__header .arrow-btn[data-v-76f73dd2]{display:flex}.calendar__header .arrow-btn>span[data-v-76f73dd2]{display:none}.calendar__header .arrow-btn[data-v-76f73dd2]:before{font-weight:900;font-family:"Font Awesome 5 solid",sans-serif;display:block;font-size:1rem;color:#2e363d}.calendar__header .arrow-btn.btn-prevmonth[data-v-76f73dd2]:before{content:"\\f053"}.calendar__header .arrow-btn.btn-nextmonth[data-v-76f73dd2]:before{content:"\\f054"}.calendar__body[data-v-76f73dd2]{padding-bottom:10px}.calendar__title[data-v-76f73dd2]{font-size:1.125rem;text-align:center;cursor:pointer}.calendar__title>span[data-v-76f73dd2]{color:#2e363d}',""]),t.exports=e},240:function(t,e,n){"use strict";n(68),n(36),n(232),n(55),n(12),n(41),n(37);var o={data:function(){return{current:{year:0,month:0,date:0},today:{year:0,month:0,date:0},weekdates:["SUN","MON","TUE","WED","THU","FRI","SAT"]}},props:{defaultDate:Object},mounted:function(){var t=this;this.getTodayData(),this.defaultDate?Object.keys(this.current).forEach((function(e){t.current[e]=t.defaultDate[e]})):this.directToToday()},methods:{changeMonth:function(t){var e=this.current.month,n=!0===t?e+1:e-1;n<=0&&(n=12,this.current.year=this.current.year-1),n>12&&(n=1,this.current.year=this.current.year+1),this.current.month=n,this.current.date=1},getDateData:function(data){if(!0===data.none)return!1;this.current.year=data.year,this.current.month=data.month,this.current.date=data.date},directToToday:function(){this.current.year=this.today.year,this.current.month=this.today.month,this.current.date=this.today.date},getTodayData:function(){this.today.year=this.$dayjs().utcOffset(8).year(),this.today.month=this.$dayjs().utcOffset(8).month()+1,this.today.date=this.$dayjs().utcOffset(8).date()}},computed:{buildCalendar:function(){for(var t=[],e=this.current.year,n=this.current.month,o=this.current.date,r=n<10?"0".concat(n):n.toString(),c=this.$dayjs("".concat(e,"-").concat(r)).utcOffset(8).daysInMonth(),i=0;i<c;i++){var d=i+1,l=!1;e===this.today.year&&n===this.today.month&&d===this.today.date&&(l=!0);var f={id:"".concat(e,"-").concat(n,"-").concat(d),year:e,month:n,date:d,number:d<10?"0".concat(d):d.toString(),today:l,current:d===o};t.push(f)}for(var h=this.$dayjs("".concat(e,"-").concat(r)).utcOffset(8).format("d"),v=0;v<h;v++){t.splice(v,0,{number:"",none:!0})}for(var m=t.length%7==0?0:7-t.length%7,_=0;_<m;_++){t.splice(t.length,0,{number:"",none:!0})}return t}},watch:{current:{handler:function(t){this.$emit("get-date",t)},deep:!0,immediate:!1}}},r=(n(238),n(20)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"calendar"},[n("div",{staticClass:"calendar__header"},[n("a",{staticClass:"arrow-btn btn-prevmonth",attrs:{href:"javascript:;",title:"Previous"},on:{click:function(e){return e.preventDefault(),t.changeMonth(!1)}}},[n("span",[t._v("Previous")])]),t._v(" "),n("div",{staticClass:"calendar__title",on:{click:function(e){return e.preventDefault(),t.directToToday()}}},[n("span",{staticClass:"caption-year"},[t._v(t._s(t.current.year)+" 年")]),t._v(" "),n("span",{staticClass:"caption-month"},[t._v(t._s(t.current.month)+" 月")])]),t._v(" "),n("a",{staticClass:"arrow-btn btn-nextmonth",attrs:{href:"javascript:;",title:"Next"},on:{click:function(e){return e.preventDefault(),t.changeMonth(!0)}}},[n("span",[t._v("Next")])])]),t._v(" "),n("div",{staticClass:"calendar__body"},[n("ul",{staticClass:"calendar__heading"},t._l(t.weekdates,(function(e){return n("li",{key:e},[n("div",{staticClass:"calendar__item"},[t._v("\n          "+t._s(e)+"\n        ")])])})),0),t._v(" "),n("ul",{staticClass:"calendar__content"},t._l(t.buildCalendar,(function(e){return n("li",{key:e.id},[n("a",{staticClass:"calendar__item",class:{"is-today":!0===e.today,current:!0===e.current,disabled:!0===e.none},attrs:{href:"javascript:;",title:e.id},on:{click:function(n){return n.preventDefault(),t.getDateData(e)}}},[t._v(t._s(e.number))])])})),0)])])}),[],!1,null,"76f73dd2",null);e.a=component.exports},241:function(t,e,n){"use strict";var o={props:{control:Boolean},methods:{overlayClickHandler:function(){this.$emit("click-overlay")}}},r=(n(236),n(20)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade",mode:"out-in"}},[!0===t.control?n("div",{staticClass:"overlay"},[n("div",{staticClass:"overlay-block",on:{click:function(e){return e.stopPropagation(),t.overlayClickHandler(e)}}}),t._v(" "),n("div",{staticClass:"lightbox"},[t._t("default")],2)]):t._e()])}),[],!1,null,"02f64cdc",null);e.a=component.exports},247:function(t,e,n){var content=n(260);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("3b590700",content,!0,{sourceMap:!1})},248:function(t,e,n){var content=n(262);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("0af91608",content,!0,{sourceMap:!1})},259:function(t,e,n){"use strict";n(247)},260:function(t,e,n){(e=n(34)(!1)).push([t.i,'.detailDailog[data-v-2635643a]{position:relative;overflow:hidden;border-radius:7px}.detailDailog-header[data-v-2635643a]{background-color:#ffdf5e}.detailDailog-ctrlbar[data-v-2635643a]{display:flex;justify-content:flex-end}.detailDailog-btn[data-v-2635643a]{width:30px;height:30px;display:block}.detailDailog-btn span[data-v-2635643a]{display:none}.detailDailog-btn[data-v-2635643a]:before{font-weight:900;font-family:"Font Awesome 5 solid",sans-serif;display:block;line-height:30px;text-align:center;color:#2e363d}.detailDailog-btn.icon-edit[data-v-2635643a]:before{content:"\\f044"}.detailDailog-btn.icon-delete[data-v-2635643a]:before{content:"\\f1f8"}.detailDailog-btn.icon-close[data-v-2635643a]:before{content:"\\f00d"}.detailDailog-caption[data-v-2635643a]{padding:10px;font-size:1.25rem;font-weight:500;text-align:center;color:#2e363d}.detailDailog-body[data-v-2635643a]{padding:10px;background-color:#2e363d}.detailDailog-title[data-v-2635643a]{padding-bottom:10px;display:flex;align-items:center;justify-content:space-between;font-size:1.25rem;border-bottom:1px solid #fff;margin-bottom:10px}.detailDailog-name[data-v-2635643a]{max-height:2.8em;display:-webkit-box;overflow:hidden;text-overflow:ellipsis;line-height:1.4em;-webkit-box-orient:vertical;-webkit-line-clamp:2;color:#ffdf5e}.detailDailog-price[data-v-2635643a]{padding-right:5px;padding-left:5px;color:#77a88d}.detailDailog-price.is-expense[data-v-2635643a]{color:#ff6670}.detailDailog-content p[data-v-2635643a]{margin-bottom:5px}.hashtag-list[data-v-2635643a]{display:flex;flex-wrap:wrap}.hashtag-list>li[data-v-2635643a]{margin-right:5px;margin-bottom:7px}.hashtag-item[data-v-2635643a]{padding:5px 7px;display:block;font-size:.85rem;color:#2e363d;background-color:#ffdf5e;border-radius:5px;line-height:1em}.hashtag-item[data-v-2635643a]:before{content:"#"}',""]),t.exports=e},261:function(t,e,n){"use strict";n(248)},262:function(t,e,n){(e=n(34)(!1)).push([t.i,'.accounts[data-v-976177e2]{margin-top:2rem}.accounts[data-v-976177e2],.accounts>li[data-v-976177e2]{margin-bottom:1rem}.accounts-item[data-v-976177e2]{padding:10px;display:flex;align-items:flex-start;background-color:#161616;border-radius:5px}.accounts-icon[data-v-976177e2]{width:70px;height:70px;font-size:2rem;text-align:center;line-height:70px;background-color:#ffdf5e}.accounts-content[data-v-976177e2]{width:calc(100% - 70px);padding-left:10px}.accounts-header[data-v-976177e2]{display:flex;align-items:center;justify-content:space-between}.accounts-body[data-v-976177e2],.accounts-footer[data-v-976177e2]{overflow:hidden;font-size:.8rem;text-overflow:ellipsis;white-space:nowrap;word-break:keep-all;line-height:1.75em}.accounts-body .item-option[data-v-976177e2],.accounts-body .item-tag[data-v-976177e2],.accounts-footer .item-option[data-v-976177e2],.accounts-footer .item-tag[data-v-976177e2]{margin-right:5px}.accounts-body .item-tag[data-v-976177e2]:before,.accounts-footer .item-tag[data-v-976177e2]:before{content:"#"}.accounts-name[data-v-976177e2]{max-height:2.8em;display:-webkit-box;overflow:hidden;text-overflow:ellipsis;line-height:1.4em;-webkit-box-orient:vertical;-webkit-line-clamp:2;color:#ffdf5e}.accounts-price[data-v-976177e2]{padding-right:5px;padding-left:5px;color:#77a88d}.accounts-price.is-expense[data-v-976177e2]{color:#ff6670}',""]),t.exports=e},263:function(t,e,n){"use strict";n.r(e);n(68),n(153),n(39),n(235),n(232),n(55);var o=n(65),header=n(229),r=n(240),c=n(241),d=(n(21),{props:{detail:Object},methods:{editHandler:function(){var t=this.DEEP_CLONE(this.detail);this.$emit("edit",t)},deleteHandler:function(){this.$emit("delete",this.detail.id)},closeHandler:function(){this.$emit("close")}},computed:{textCaption:function(){return!0===this.detail.isExpense?"".concat(this.categoriesName,"/").concat(this.subcategoriesName):this.categoriesName},textTime:function(){var t="".concat(this.detail.time.year,"/").concat(this.TO_TIME_FORMAT(this.detail.time.month),"/").concat(this.TO_TIME_FORMAT(this.detail.time.date)),time="".concat(this.TO_TIME_FORMAT(this.detail.time.hour),":").concat(this.TO_TIME_FORMAT(this.detail.time.minute));return"".concat(t," ").concat(time)},textName:function(){return!0===this.detail.isExpense?""===this.detail.name?this.subcategoriesName:this.detail.name:""===this.detail.name?this.categoriesName:this.detail.name},textPrice:function(){var t=this.TO_CURRENCY(this.detail.price);return!0===this.detail.isExpense?"-$".concat(t):"+$".concat(t)},categoriesName:function(){return this.GET_CATEGORIES_NAME(this.detail.categories)},subcategoriesName:function(){return this.GET_CATEGORIES_NAME(this.detail.subcategories)}}}),l=(n(259),n(20)),f=Object(l.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detailDailog"},[n("div",{staticClass:"detailDailog-header"},[n("div",{staticClass:"detailDailog-ctrlbar"},[n("a",{staticClass:"detailDailog-btn icon-edit",attrs:{href:"javascript:;",title:"編輯"},on:{click:function(e){return e.stopPropagation(),t.editHandler(e)}}},[n("span",[t._v("編輯")])]),t._v(" "),n("a",{staticClass:"detailDailog-btn icon-delete",attrs:{href:"javascript:;",title:"刪除"},on:{click:function(e){return e.stopPropagation(),t.deleteHandler(e)}}},[n("span",[t._v("刪除")])]),t._v(" "),n("a",{staticClass:"detailDailog-btn icon-close",attrs:{href:"javascript:;",title:"關閉"},on:{click:function(e){return e.stopPropagation(),t.closeHandler(e)}}},[n("span",[t._v("關閉")])])]),t._v(" "),n("div",{staticClass:"detailDailog-caption"},[t._v("\n      "+t._s(t.textCaption)+"\n    ")])]),t._v(" "),n("div",{staticClass:"detailDailog-body"},[n("div",{staticClass:"detailDailog-title"},[n("span",{staticClass:"detailDailog-name"},[t._v("\n        "+t._s(t.textName)+"\n      ")]),t._v(" "),n("span",{staticClass:"detailDailog-price",class:{"is-expense":!0===t.detail.isExpense}},[t._v("\n        "+t._s(t.textPrice)+"\n      ")])]),t._v(" "),n("div",{staticClass:"detailDailog-content"},[n("p",{staticStyle:{"text-align":"right"}},[t._v("\n        "+t._s(t.textTime)+"\n      ")]),t._v(" "),""!==t.detail.store?n("p",[t._v("\n        商家："+t._s(t.detail.store)+"\n      ")]):t._e(),t._v(" "),t.detail.tags.length>0?n("p",[t._v("\n        標籤：\n      ")]):t._e(),t._v(" "),t.detail.tags.length>0?n("ul",{staticClass:"hashtag-list"},t._l(t.detail.tags,(function(e){return n("li",{key:e},[n("span",{staticClass:"hashtag-item"},[t._v(t._s(e))])])})),0):t._e(),t._v(" "),""!==t.detail.notes?n("p",[t._v("\n        備註："+t._s(t.detail.notes)+"\n      ")]):t._e()])])])}),[],!1,null,"2635643a",null).exports,h={data:function(){return{activeDate:{date:0,month:0,year:0},detailDialogCtrl:!1,detailAccount:{},defaultCalendarData:{}}},components:{"header-component":header.default,"calendar-component":r.a,"lightbox-component":c.a,"detail-component":f},created:function(){this.defaultCalendarData=this.DEEP_CLONE(this.$store.state.currentDate)},methods:{getDateHandler:function(t){this.activeDate.year=t.year,this.activeDate.month=t.month,this.activeDate.date=t.date,this.$store.commit("SET_CURRENT_DATE",t)},openDetailDialog:function(t){this.detailAccount=this.DEEP_CLONE(t),this.detailDialogCtrl=!0},closeDetailDialog:function(){this.detailAccount={},this.detailDialogCtrl=!1},editAccountItem:function(t){this.$router.push({name:"record",params:{defaultData:t}})},deleteAccountItem:function(t){var e=Object(o.a)(this.$store.state.accounts),n=e.findIndex((function(e){return e.id===t}));n<0?window.alert("項目刪除失敗"):e.splice(n,1),this.$store.commit("SET_ACCOUNTS_DATA",e),this.closeDetailDialog()},accountName:function(t,e){return""===t?this.GET_CATEGORIES_NAME(e):t},accountCategoriesName:function(t,e){return""!==e?"".concat(this.GET_CATEGORIES_NAME(t)," - ").concat(this.GET_CATEGORIES_NAME(e)):this.GET_CATEGORIES_NAME(t)}},computed:{accountList:function(){var t=this;return Object(o.a)(this.$store.state.accounts).filter((function(e){return Object.keys(t.activeDate).every((function(n){return t.activeDate[n]===e.time[n]}))}))}}},v=(n(261),Object(l.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("header-component"),t._v(" "),n("div",{staticClass:"wrap"},[n("calendar-component",{attrs:{"default-date":t.defaultCalendarData},on:{"get-date":t.getDateHandler}}),t._v(" "),n("ul",{staticClass:"accounts"},t._l(t.accountList,(function(e){return n("li",{key:e.id},[n("a",{staticClass:"accounts-item",attrs:{href:"javascript:;",title:e.name},on:{click:function(n){return n.stopPropagation(),t.openDetailDialog(e)}}},[n("div",{staticClass:"accounts-icon"}),t._v(" "),n("div",{staticClass:"accounts-content"},[n("div",{staticClass:"accounts-header"},[n("span",{staticClass:"accounts-name"},[t._v(t._s(t.accountName(e.name,e.categories)))]),t._v(" "),n("span",{staticClass:"accounts-price",class:{"is-expense":!0===e.isExpense}},[t._v("$"+t._s(t.TO_CURRENCY(e.price)))])]),t._v(" "),n("div",{staticClass:"accounts-body"},[n("span",{staticClass:"item-option"},[t._v(t._s(t.accountCategoriesName(e.categories,e.subcategories)))]),t._v(" "),n("span",{staticClass:"item-option"},[t._v(t._s(e.store))])]),t._v(" "),n("div",{staticClass:"accounts-footer"},t._l(e.tags,(function(e){return n("span",{key:e,staticClass:"item-tag"},[t._v(t._s(e))])})),0)])])])})),0)],1),t._v(" "),n("lightbox-component",{attrs:{control:t.detailDialogCtrl},on:{"click-overlay":t.closeDetailDialog}},[n("detail-component",{attrs:{detail:t.detailAccount},on:{close:t.closeDetailDialog,edit:t.editAccountItem,delete:t.deleteAccountItem}})],1)],1)}),[],!1,null,"976177e2",null));e.default=v.exports}}]);